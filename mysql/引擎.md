
#MyISAM引擎
#索引
主键索引使用b+树,但是数据和索引是分开的，叶子节点的data域存放的是记录的地址。通过地址找到记录。可以看出MyISAMy索引只是保存记录的地址，主键索引和辅助索引在结构上没有区别，只是主键索引要求key是唯一性的，辅助索引可以重复。
![avatar](../resource/MyISAM.png)

MyISAM中索引检索的算法为首先按照B+Tree搜索算法搜索索引，如果指定的Key存在，则取出其data域的值，然后以data域的值为地址，读取相应数据记录。

MyISAM的索引方式也叫做“非聚集”的，之所以这么称呼是为了与InnoDB的聚集索引区分

支持全文索引，不支持事务;表级锁；会保存表的具体行数


#InnoDB引擎
##索引
索引结果也是使用B+树，但是与MyISAM不同。

第一点，InnoDB数据本身就是一个索引文件，是一颗b+树，这棵树的data域完整的记录了一条数据，树的key就是表的主键，所以InnoDB中表一定要有主键。如果没有显式指定，则MySQL系统会自动选择一个可以唯一标识数据记录的列作为主键，如果不存在这种列，则MySQL自动为InnoDB表生成一个隐含字段作为主键，这个字段长度为6个字节，类型为长整形。

第二点,InnoDB辅助索引data域存放的是相应记录主键的值而不是地址，这导致了辅助索引的查找需要两便索引，先获得主键的值，再获得主键的对应的记录

![avatar](../resource/InnoDB.png)

了解了InnoDB的特点就明白了为什么不建议使用过长的字段作为主键，因为所有辅助索引都引用主索引，过长的主索引会令辅助索引变得过大。再例如，用非单调的字段作为主键在InnoDB中不是个好主意，因为InnoDB数据文件本身是一颗B+Tree，非单调的主键会造成在插入新记录时数据文件为了维持B+Tree的特性而频繁的分裂调整，十分低效，而使用自增字段作为主键则是一个很好的选择

5.6以后支持全文索引，支持事务，行级锁；不保存表的行数。