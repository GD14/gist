#特权级
这是从硬件上的支持。在Intel x86架构的cpu中一共有0~3这四个特权级别。0是最高的特权级别，3是最低的级别。为什么需要这样,举个例子，比如创建一个进程，需要做很多底层的工作，比如分配物理内存，从父进程拷贝相关信息，设置页目录页表。这些工作肯定不能随随便便就让一个用户进程去完成，需要统一由操作系统来完成。

#用户态
程序运行在特权级3上时候，就称之为用户态，这是特权级别最低的。用户态的程序不能直接访问操作系统数据结构和程序。
#系统态
程序运行在特权级别0上时候，就称之为系统态，这是特权及别最高的。

#切换方式
1. 系统调用，而系统调用的机制其核心还是使用了操作系统为用户特别开放的一个中断来实现，例如Linux的int0x80中断。
2. 异常，比如缺页异常
3. 设备中断，比如按键盘，网络数据达到。

上面的3种方法只是触发方式不一样，但是最终的步骤都是一样的，相当于执行了一个中断响应的过程，由中断向量中不同的中断处理程序去执行内核代码。

当触发了用户态到系统态的切换时候，会发生以下步骤
1. 从当前进程描述符中提取其内核栈的ss0和esp0信息
2. 使用ss0和esp0指向的内核栈将当前进程的cs，eip，eflag，ss，esp保存起来。这个就是完成了用户态到内核态的切换，同时保存了恢复后的下一条指令。
3. 将先前由中断向量检索到的中断处理程序的cs,eip信息装入相应的寄存器开始执行中断处理程序。这时候就是开始执行内核态程序了。