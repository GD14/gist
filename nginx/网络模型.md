
#解决惊群
master进程创建一个listen sockfd,开启listen。master 进程fork多个work进程，在多个work进程中，大家都需要抢一把锁才能把listenfd加入到epoll_wait中，意味着每次只会有一个work进程wait listenfd。确保不会产生惊群。
这样相比于单个进程专门做accept，再将connfd分配给其他进程的好处是发挥了多核的优势，因为一个进程被一个核执行，但是却只是用来accept，浪费了计算资源。同时，如果请求过多，这个进行的请求队列排队可能很长，其他进程又需要等待这个进程分配，可能不如直接轮流在每个进程间wait listenfd。